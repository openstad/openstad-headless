// @todo: add all widgets MUST confirm to widgetDefinition for key
let moduleDefinitions = {
  agenda: {
    packageName: '@openstad-headless/agenda',
    directory: 'agenda',
    js: ['dist/agenda.iife.js'],
    css: ['dist/agenda.css'],
    functionName: 'OpenstadHeadlessAgenda',
    componentName: 'Agenda',
    defaultConfig: {
      resourceId: null,
    },
  },
  likes: {
    packageName: '@openstad-headless/likes',
    directory: 'likes',
    js: ['dist/likes.iife.js'],
    css: ['dist/likes.css'],
    functionName: 'OpenstadHeadlessLikes',
    componentName: 'Likes',
    defaultConfig: {
      resourceId: null,
      title: '',
      noLabel: 'Nee',
      variant: 'medium',
      yesLabel: 'Ja',
      projectId: null,
      hideCounters: false,
      displayDislike: false,
      showProgressBar: true,
      progressBarDescription: '',
    },
  },
  comments: {
    packageName: '@openstad-headless/comments',
    directory: 'comments',
    js: ['dist/comments.iife.js'],
    css: ['dist/comments.css'],
    functionName: 'OpenstadHeadlessComments',
    componentName: 'Comments',
    defaultConfig: {
      resourceId: null,
      sentiment: 'for',
      useSentiments: ['for', 'against'],
      itemsPerPage: 9999,
      displayPagination: false,
    },
  },
  enquete: {
    packageName: '@openstad-headless/enquete',
    directory: 'enquete',
    js: ['dist/enquete.iife.js'],
    css: ['dist/enquete.css'],
    functionName: 'OpenstadHeadlessEnquete',
    componentName: 'Enquete',
    defaultConfig: {
      projectId: null,
      items: [],
      title: '',
      projectId: null,
      description: '',
      confirmation: {},
      displayTitle: false,
      afterSubmitUrl: '',
      formVisibility: 'always',
      displayDescription: false,
      maxCharactersError:
        'Tekst moet maximaal {maxCharacters} karakters bevatten',
      minCharactersError:
        'Tekst moet minimaal {minCharacters} karakters bevatten',
      maxCharactersWarning: 'Je hebt nog {maxCharacters} tekens over',
      minCharactersWarning: 'Nog minimaal {minCharacters} tekens',
    },
  },
  rawresource: {
    packageName: '@openstad-headless/raw-resource',
    directory: 'raw-resource',
    js: ['dist/raw-resource.iife.js'],
    css: ['dist/raw-resource.css'],
    functionName: 'OpenstadHeadlessRawResource',
    componentName: 'RawResource',
    defaultConfig: {
      rawInput: '',
      projectId: null,
      resourceId: null,
    },
  },
  resourceoverview: {
    packageName: '@openstad-headless/resource-overview',
    directory: 'resource-overview',
    js: ['dist/resource-overview.iife.js'],
    css: ['dist/resource-overview.css'],
    functionName: 'OpenstadHeadlessResourceOverview',
    componentName: 'ResourceOverview',
    defaultConfig: {
      projectId: null,
      sorting: [
        {
          label: 'Titel',
          value: 'title',
        },
      ],
      itemLink: '/resource?openstadResourceId=[id]',
      rawInput: '',
      applyText: 'Toepassen',
      projectId: null,
      resetText: 'Reset',
      displayMap: false,
      displayTags: true,
      displayType: 'cardrow',
      displayVote: true,
      displayTitle: false,
      itemsPerPage: 30,
      resourceType: 'resource',
      displayBanner: false,
      displayBudget: true,
      displaySearch: false,
      documentsDesc: '',
      clickableImage: false,
      defaultSorting: 'random',
      displaySorting: false,
      displaySummary: false,
      documentsTitle: '',
      showActiveTags: false,
      titleMaxLength: 20,
      displayArguments: false,
      displayDocuments: false,
      summaryMaxLength: 30,
      textActiveSearch: 'Je ziet hier zoekresultaten voor [zoekterm]',
      displayLikeButton: true,
      displayPagination: false,
      displaySearchText: false,
      displayTagFilters: false,
      onlyIncludeTagIds: '',
      searchPlaceholder: 'Zoeken',
      displayDescription: false,
      displayStatusLabel: false,
      descriptionMaxLength: 20,
      onlyIncludeStatusIds: '',
      displayLocationFilter: false,
      includeOrExcludeTagIds: 'include',
      includeOrExcludeStatusIds: 'include',
      resourceOverviewMapWidget: {
        title: '',
        noLabel: 'Nee',
        variant: 'medium',
        yesLabel: 'Ja',
        hideCounters: false,
        displayDislike: false,
        showProgressBar: true,
        progressBarDescription: '',
      },
    },
  },
  multiprojectresourceoverview: {
    packageName: '@openstad-headless/multi-project-resource-overview',
    directory: 'multi-project-resource-overview',
    js: ['dist/multi-project-resource-overview.iife.js'],
    css: ['dist/multi-project-resource-overview.css'],
    functionName: 'OpenstadHeadlessMultiProjectResourceOverview',
    componentName: 'MultiProjectResourceOverview',
    defaultConfig: {
      projectId: null,
    },
  },
  resourcedetail: {
    packageName: '@openstad-headless/resource-detail',
    directory: 'resource-detail',
    js: ['dist/resource-detail.iife.js'],
    css: ['dist/resource-detail.css'],
    functionName: 'OpenstadHeadlessResourceDetail',
    componentName: 'ResourceDetail',
    defaultConfig: {
      projectId: null,
    },
  },
  datecountdownbar: {
    packageName: '@openstad-headless/date-countdown-bar',
    directory: 'date-countdown-bar',
    js: ['dist/date-countdown-bar.iife.js'],
    css: ['dist/date-countdown-bar.css'],
    functionName: 'OpenstadHeadlessDateCountdownBar',
    componentName: 'DateCountdownBar',
    defaultConfig: {
      projectId: null,
      afterText: '',
      direction: 'horizontal',
      beforeText: '',
    },
  },
  counter: {
    packageName: '@openstad-headless/counter',
    directory: 'counter',
    js: ['dist/counter.iife.js'],
    css: ['dist/counter.css'],
    functionName: 'OpenstadHeadlessCounter',
    componentName: 'Counter',
    defaultConfig: {
      projectId: null,
      counterType: 'resource',
      label: 'Hoeveelheid',
      url: '',
      opinion: '',
      widgetToFetchId: null,
      resourceId: null,
      includeOrExclude: 'include',
      onlyIncludeOrExcludeTagIds: '',
    },
  },
  basemap: {
    packageName: '@openstad-headless/leaflet-map',
    directory: 'leaflet-map',
    js: ['dist/base-map/base-map.iife.js'],
    css: ['dist/base-map/base-map.css'],
    functionName: 'OpenstadHeadlessBaseMap',
    componentName: 'BaseMap',
    defaultConfig: {
      projectId: null,
    },
  },
  choiceguide: {
    packageName: '@openstad-headless/choiceguide',
    directory: 'choiceguide',
    js: ['dist/choiceguide.iife.js'],
    css: ['dist/choiceguide.css'],
    functionName: 'OpenstadHeadlessChoiceGuide',
    componentName: 'ChoiceGuide',
    defaultConfig: {
      projectId: null,
    },
  },
  choiceguideResults: {
    packageName: '@openstad-headless/choiceguide-results',
    directory: 'choiceguide-results',
    js: ['dist/choiceguide-results.iife.js'],
    css: ['dist/choiceguide-results.css'],
    functionName: 'OpenstadHeadlessChoiceGuideResults',
    componentName: 'ChoiceGuideResults',
    defaultConfig: {
      projectId: null,
    },
  },
  editormap: {
    packageName: '@openstad-headless/leaflet-map',
    directory: 'leaflet-map',
    js: ['dist/editor-map/editor-map.iife.js'],
    css: ['dist/editor-map/editor-map.css'],
    functionName: 'OpenstadHeadlessEditorMap',
    componentName: 'EditorMap',
    defaultConfig: {
      projectId: null,
    },
  },
  resourcesmap: {
    packageName: '@openstad-headless/leaflet-map',
    directory: 'leaflet-map',
    js: ['dist/resource-overview-map/resource-overview-map.iife.js'],
    css: ['dist/resource-overview-map/resource-overview-map.css'],
    functionName: 'OpenstadHeadlessResourceOverviewMap',
    componentName: 'ResourceOverviewMap',
    defaultConfig: {
      projectId: null,
      width: '',
      height: '',
      ctaButton: {
        show: false,
      },
      customUrl: '',
      projectId: null,
      categorize: {},
      clustering: {},
      markerHref: '',
      countButton: {
        show: false,
      },
      tilesVariant: '',
      customPolygon: [],
      customPolygonUrl: [],
      autoZoomAndCenter: 'markers',
    },
  },
  resourcedetailmap: {
    packageName: '@openstad-headless/leaflet-map',
    directory: 'leaflet-map',
    js: ['dist/resource-detail-map/resource-detail-map.iife.js'],
    css: ['dist/resource-detail-map/resource-detail-map.css'],
    functionName: 'OpenstadHeadlessResourceDetailMap',
    componentName: 'ResourceDetailMap',
    defaultConfig: {
      projectId: null,
    },
  },
  resourceform: {
    packageName: '@openstad-headless/resource-form',
    directory: 'resource-form',
    js: ['dist/resource-form.iife.js'],
    css: ['dist/resource-form.css'],
    functionName: 'OpenstadHeadlessResourceForm',
    componentName: 'ResourceFormWidget',
    defaultConfig: {
      projectId: null,
    },
  },
  begrootmodule: {
    packageName: '@openstad-headless/stem-begroot',
    directory: 'stem-begroot',
    js: ['dist/stem-begroot.iife.js'],
    css: ['dist/stem-begroot.css'],
    functionName: 'OpenstadHeadlessStemBegroot',
    componentName: 'StemBegroot',
    defaultConfig: {
      projectId: null,
      displayRanking: false,
      displayPriceLabel: false,
      showVoteCount: false,
      notEnoughBudgetText: 'Niet genoeg budget',
      showOriginalResource: false,
      hideReadMore: false,
      scrollWhenMaxReached: false,
      originalResourceUrl: '',
      resourceListColumns: 3,
      hideTagsForResources: false,
      showInfoMenu: false,
      showOriginalResource: false,
      step1Tab: 'Kies',
      step2Tab: 'Overzicht',
      step3Tab: 'Stemcode',
      step4Tab: 'Stem',
      step1Title: 'Uw selecties',
      resourceCardTitle: 'Selecteer een inzending',
      step1Delete: 'Verwijder',
      step1Add: 'Voeg toe',
      step1MaxText: '',
      step2Title: 'Overzicht van mijn selectie',
      step3Title: 'Controleer stemcode',
      stemCodeTitle: 'Vul je stemcode in',
      stemCodeTitleSuccess: 'Vul een andere stemcode in',
      newsLetterTitle: 'Hou mij op de hoogte',
      panelTitle: '',
      budgetChosenTitle: 'Inzendingen gekozen',
      budgetRemainingTitle: 'Nog te kiezen',
      overviewTitle: 'Plannen',
      displaySearch: false,
      displaySearchText: false,
      textActiveSearch: 'Bekijk de tekstresultaten voor [zoekterm]',
      displayTagFilters: false,
      tagGroups: [],
      displayTagGroupName: false,
      displaySorting: false,
      defaultSorting: 'random',
      sorting: [],
      itemsPerPage: 30,
      displayPagination: false,
      onlyIncludeTagIds: '',
      onlyIncludeStatusIds: '',
    },
  },
  simplevoting: {
    packageName: '@openstad-headless/simple-voting',
    directory: 'simple-voting',
    js: ['dist/simple-voting.iife.js'],
    css: ['dist/simple-voting.css'],
    functionName: 'OpenstadHeadlessSimpleVoting',
    componentName: 'SimpleVoting',
    defaultConfig: {
      projectId: null,
      step1Add: 'Voeg toe',
      step1Tab: 'Kies',
      step2Tab: 'Overzicht',
      step3Tab: 'Stemcode',
      step4Tab: 'Stem',
      projectId: null,
      panelTitle: '',
      step1Title: 'Uw selecties',
      step2Title: 'Overzicht van mijn selectie',
      step3Title: 'Controleer stemcode',
      tagTypeTag: '',
      step1Delete: 'Verwijder',
      hideReadMore: false,
      itemsPerPage: 30,
      showInfoMenu: true,
      step1MaxText: '',
      displaySearch: false,
      overviewTitle: 'Plannen',
      showVoteCount: false,
      stemCodeTitle: 'Vul je stemcode in',
      displayRanking: false,
      newsLetterTitle: 'Hou mij op de hoogte',
      tagTypeSelector: 'tag',
      tagTypeTagGroup: [],
      textActiveSearch: 'Bekijk de tekstresultaten voor [zoekterm]',
      budgetChosenTitle: 'Inzendingen gekozen',
      displayPagination: false,
      displayPriceLabel: false,
      displaySearchText: false,
      onlyIncludeTagIds: '',
      resourceCardTitle: 'Selecteer een inzending',
      notEnoughBudgetText: 'Niet genoeg budget',
      originalResourceUrl: '',
      resourceListColumns: 3,
      budgetRemainingTitle: 'Nog te kiezen',
      hideTagsForResources: false,
      onlyIncludeStatusIds: '',
      scrollWhenMaxReached: false,
      showOriginalResource: false,
      stemCodeTitleSuccess: 'Vul een andere stemcode in',
    },
  },
  resourcewithmap: {
    packageName: '@openstad-headless/resource-overview-with-map',
    directory: 'resource-overview-with-map',
    js: ['dist/resource-overview-with-map.iife.js'],
    css: ['dist/resource-overview-with-map.css'],
    functionName: 'OpenstadHeadlessResourceOverviewWithMap',
    componentName: 'ResourceOverviewWithMap',
    defaultConfig: {
      projectId: null,

      sorting: [
        {
          label: 'Titel',
          value: 'title',
        },
      ],
      itemLink: '/resource?openstadResourceId=[id]',
      rawInput: '',
      applyText: 'Toepassen',
      projectId: null,
      resetText: 'Reset',
      displayMap: false,
      displayTags: true,
      displayType: 'cardrow',
      displayVote: false,
      displayTitle: false,
      itemsPerPage: 30,
      resourceType: 'resource',
      displayBanner: false,
      displayBudget: true,
      displaySearch: false,
      documentsDesc: '',
      clickableImage: false,
      defaultSorting: 'random',
      displaySorting: false,
      displaySummary: false,
      documentsTitle: '',
      titleMaxLength: 20,
      displayArguments: false,
      displayDocuments: false,
      summaryMaxLength: 30,
      textActiveSearch: 'Je ziet hier zoekresultaten voor [zoekterm]',
      displayLikeButton: false,
      displayPagination: false,
      displaySearchText: false,
      displayTagFilters: true,
      onlyIncludeTagIds: '',
      searchPlaceholder: 'Zoeken',
      displayDescription: false,
      displayStatusLabel: false,
      descriptionMaxLength: 20,
      onlyIncludeStatusIds: '',
      displayLocationFilter: false,
      includeOrExcludeTagIds: 'include',
      includeOrExcludeStatusIds: 'include',
      resourceOverviewMapWidget: {
        ctaButton: {
          show: false,
        },
        datalayer: [],
        countButton: {
          show: false,
        },
      },
    },
  },
  resourcedetailwithmap: {
    packageName: '@openstad-headless/resource-detail-with-map',
    directory: 'resource-detail-with-map',
    js: ['dist/resource-detail-with-map.iife.js'],
    css: ['dist/resource-detail-with-map.css'],
    functionName: 'OpenstadHeadlessResourceDetailWithMap',
    componentName: 'ResourceDetailWithMap',
    defaultConfig: {
      projectId: null,
      width: '',
      height: '',
      marker: {},
      ctaButton: {
        show: false,
      },
      customUrl: '',
      categorize: {},
      clustering: {},
      markerHref: '',
      markerIcon: {},
      countButton: {
        show: false,
      },
      displayDate: true,
      displayTags: true,
      displayUser: true,
      displayImage: true,
      displayLikes: true,
      displayTitle: true,
      tilesVariant: '',
      displayBudget: true,
      displayStatus: true,
      displaySocials: true,
      displaySummary: true,
      displayLocation: true,
      autoZoomAndCenter: 'markers',
      displayDescription: true,
      displayBudgetDocuments: true,
    },
  },
  documentmap: {
    packageName: '@openstad-headless/document-map',
    directory: 'document-map',
    js: ['dist/document-map.iife.js'],
    css: ['dist/document-map.css'],
    functionName: 'OpenstadHeadlessDocumentMap',
    componentName: 'DocumentMap',
    defaultConfig: {
      projectId: null,
      zoom: 1,
      maxZoom: 10,
      minZoom: -6,
      largeDoc: false,
      loginText: 'Inloggen om deel te nemen aan de discussie',
      closedText:
        'Het insturen van reacties is gesloten, u kunt niet meer reageren',
      likeWidget: {
        title: '',
        noLabel: 'Nee',
        variant: 'medium',
        yesLabel: 'Ja',
        hideCounters: false,
        displayDislike: false,
        showProgressBar: true,
        progressBarDescription: '',
      },
      backUrlText: 'Bekijk de verbeterde versie',
      displayLikes: false,
      itemsPerPage: 9999,
      addMarkerText: 'Toon markers',
      definitiveUrl: '',
      emptyListText: 'Nog geen reacties geplaatst',
      addCommentText: 'Voeg een opmerking toe',
      backUrlContent: 'Je bekijkt nu de versie met reacties',
      displayMapSide: 'left',
      accessibilityUrl: '',
      includeOrExclude: 'include',
      infoPopupContent:
        'Op deze afbeelding kun je opmerkingen plaatsen. Klik op de afbeelding om een opmerking toe te voegen. Klik op een marker om de bijbehorende opmerkingen te bekijken.',
      definitiveUrlText: '',
      displayPagination: false,
      submitCommentText: 'Versturen',
      maxCharactersError:
        'Tekst moet maximaal {maxCharacters} karakters bevatten',
      minCharactersError:
        'Tekst moet minimaal {minCharacters} karakters bevatten',
      displayResourceInfo: 'left',
      infoPopupButtonText: '',
      openInfoPopupOnInit: 'no',
      relativePathPrepend: '',
      accessibilityUrlText: '',
      definitiveUrlVisible: false,
      maxCharactersWarning: 'Je hebt {maxCharacters} karakters teveel',
      minCharactersWarning: 'Nog minimaal {minCharacters} karakters',
      popupNotLoggedInText:
        'Om een reactie te plaatsen, moet je ingelogd zijn.',
      entireDocumentVisible: 'entirely',
      onlyAllowClickOnImage: false,
      popupNotLoggedInButton: 'Inloggen',
      accessibilityUrlVisible: false,
      displayResourceDescription: 'no',
      onlyIncludeOrExcludeTagIds: '',
    },
  },
  activity: {
    packageName: '@openstad-headless/activity',
    directory: 'activity',
    js: ['dist/activity.iife.js'],
    css: ['dist/activity.css'],
    functionName: 'OpenstadHeadlessActivity',
    componentName: 'Activity',
    defaultConfig: {
      projectId: null,
      otherTitle: 'Activiteit op andere websites',
      currentTitle: 'Activiteit op deze website',
      noActivityTextOther: 'U heeft geen activiteit op andere websites.',
      noActivityTextCurrent: 'U heeft geen activiteit op deze website.',
    },
  },
  account: {
    packageName: '@openstad-headless/account',
    directory: 'account',
    js: ['dist/account.iife.js'],
    css: ['dist/account.css'],
    functionName: 'OpenstadHeadlessAccount',
    componentName: 'Account',
    defaultConfig: {
      projectId: null,
    },
  },
  distributionmodule: {
    packageName: '@openstad-headless/distribution-module',
    directory: 'distribution-module',
    js: ['dist/distribution-module.iife.js'],
    css: ['dist/distribution-module.css'],
    functionName: 'OpenstadHeadlessDistributionModule',
    componentName: 'DistributionModule',
    defaultConfig: {
      projectId: null,
      items: [],
      title: '',
      total: 30000,
      choice: 'budget',
      appendText: 'punten',
      description: '',
      prependText: '€',
      showProgress: false,
      afterSubmitUrl: '',
      formVisibility: 'always',
      budgetTotalText: 'Totaal bedrag',
      pointsTotalText: 'Totaal punten',
      budgetErrorTitle: 'Er is geen geld meer om te verdelen',
      pointsErrorTitle: 'Er zijn geen punten meer om te verdelen',
      budgetErrorMessage:
        'Er is niet genoeg geld over om deze verdeling te maken. Pas je keuze aan zodat het overige bedrag <b>€ 0</b> is',
      budgetLeftoverText: 'Overig bedrag',
      pointsErrorMessage:
        'Er zijn niet genoeg punten over om deze verdeling te maken. Pas je keuze aan zodat de overige punten <b>0 punten</b> is',
      pointsLeftoverText: 'Overige punten',
    },
  },
};

const requiredKeys = [
  'packageName',
  'directory',
  'js',
  'css',
  'functionName',
  'componentName',
  'defaultConfig',
];

const getWidgetSettings = function () {
  const badDefinitions = {};

  Object.entries(moduleDefinitions).forEach(([widgetKey, definition]) => {
    const keysInDefinition = Object.keys(definition);

    const missingKeys = requiredKeys.filter(
      (requiredKey) => !keysInDefinition.includes(requiredKey)
    );

    if (missingKeys.length > 0) {
      badDefinitions[widgetKey] = missingKeys;
    }
  });

  if (Object.keys(badDefinitions).length > 0) {
    console.error('MISSING FIELDS IN WIDGET DEFINITIONS', badDefinitions);
  }

  return moduleDefinitions;
};

module.exports = getWidgetSettings;
