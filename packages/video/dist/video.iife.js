var OpenstadHeadlessVideo=(function(l,e){"use strict";const d=({videoUrl:r,videoLang:g,videoSubtitle:w,...v})=>{const E=e.useId();function c(o){if(!o)return"";let t=o.match(/v=([a-zA-Z0-9_-]+)/);return t||(t=o.match(/shorts\/([a-zA-Z0-9_-]+)/),t)?t[1]:""}const a=e.useRef(null),[i,b]=e.useState(c(r)),[n,m]=e.useState(null),[s,f]=e.useState(()=>{if(typeof window<"u"){const o=window.sessionStorage.getItem("video-muted");return o===null?!0:o==="true"}return!0}),[P,y]=e.useState(!1),[u,p]=e.useState(!0);e.useEffect(()=>{b(c(r)),n&&typeof n.destroy=="function"&&(n.destroy(),m(null))},[v.currentPage]),e.useEffect(()=>{if(window.YT&&window.YT.Player)o();else{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t),window.onYouTubeIframeAPIReady=o}function o(){a.current&&new window.YT.Player(a.current,{host:"https://www.youtube-nocookie.com",videoId:i,playerVars:{autoplay:1,controls:0,mute:s?1:0,loop:1,playlist:i,cc_lang_pref:g,cc_load_policy:w?1:0,rel:0,iv_load_policy:3,modestbranding:1,playsinline:1},events:{onReady:t=>{m(t.target),s?t.target.mute():t.target.unMute()}}})}},[i]);const I=()=>{n&&(y(!0),setTimeout(()=>{y(!1)},1e3),s?(n.unMute(),f(!1),typeof window<"u"&&window.sessionStorage.setItem("video-muted","false")):(n.mute(),f(!0),typeof window<"u"&&window.sessionStorage.setItem("video-muted","true")))},T=()=>{n&&(u?(n.pauseVideo(),p(!1)):(n.playVideo(),p(!0)))};return e.createElement("div",{className:"video-field"},i?e.createElement(e.Fragment,null,e.createElement("div",{className:"video-container"},e.createElement("div",{ref:a,id:E,className:"video-player",tabIndex:-1})),e.createElement("div",{onClick:I,className:`muteToggle ${s?"--muted":"--unmuted"} ${P?"--toggle":""}`,role:"button",tabIndex:0},e.createElement("span",{className:"sr-only"},s?"Unmute":"Mute"),e.createElement("div",{className:"icon"})),e.createElement("div",{onClick:T,className:`playPauseToggle ${u?"--playing":"--paused"}`,role:"button",tabIndex:0},e.createElement("span",{className:"sr-only"},u?"Pause":"Play"),e.createElement("div",{className:"icon"}))):e.createElement("div",null,"No video URL provided."))};return l.VideoField=d,l.default=d,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),l})({},React);
