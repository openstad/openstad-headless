.dilemma-field {
    --dilemmaOptionFigureAspectRatio: var(--set-dilemma-option-figure-aspect-ratio, 1 / 1.3);

    --dilemmaOptionOutlineColor: var(--set-dilemma-option-outline-color, #D2D2D2);
    --dilemmaOptionOutlineWidth: var(--set-dilemma-option-outline-width, 1px);
    --dilemmaOptionOutlineOffset: var(--set-dilemma-option-outline-offset, -1px);

    --dilemmaOptionOutlineColorActive: var(--set-dilemma-option-outline-color--active, var(--utrecht-button-primary-action-background-color, #11B886));
    --dilemmaOptionOutlineWidthActive: var(--set-dilemma-option-outline-width--active, 4px);
    --dilemmaOptionOutlineOffsetActive: var(--set-dilemma-option-outline-offset--active, -4px);

    --dilemmaImageBorderRadius: var(--set-dilemma-image-border-radius, 12px);
    --dilemmaIntroHighLight: var(--set-dilemma-intro-highlight, var(--utrecht-button-primary-action-background-color, #11B886));

    height: 100%;
    align-content: center;

    .dilemma-intro {
        margin-bottom: 40px;

        h2 {
            margin: 0;
            text-align: center;

            i {
                color: var(--dilemmaIntroHighLight);
                font-style: normal;
                font-weight: inherit;
                font-size: inherit;
                font-family: inherit;
            }
        }
    }

    .dilemma-label {
        grid-column: 1 / 3;
        grid-row: 1;
        z-index: 1;
        pointer-events: none;
        display: flex;
        justify-content: center;
        span{
            align-self: center;
            text-align: center;
            width: 35px;
            height: 35px;
            line-height: 35px;
            background-color: #fff;
            border-radius: 50%;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0px 3.67px 12.83px 0px rgba(0, 0, 0, 0.55);

        }
    }

    .dilemma-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr auto;
        gap: 8px;
        position: relative;

        &:has(input:checked) {
            input:not(:checked)+label {
                figure {
                    scale: .98;
                    opacity: .5;
                }

                .dilemma-option-content {
                    opacity: 0;
                }
            }
        }

        .dilemma-option {
            grid-row: 1 / 3;
            display: grid;
            grid-template-rows: subgrid;

            &:first-of-type {
                grid-column: 1;
            }

            &:last-of-type {
                grid-column: 2;
            }

            input {
                height: 0;
                width: 0;
                overflow: hidden;
                margin: 0;
                position: absolute;

                &:checked+label {

                    figure {
                        outline-color: var(--dilemmaOptionOutlineColorActive);
                        outline-width: var(--dilemmaOptionOutlineWidthActive);
                        outline-offset: var(--dilemmaOptionOutlineOffsetActive);
                    }
                }
            }

            label {
                grid-row: span 2;
                display: grid;
                grid-template-rows: subgrid;

                .dilemma-option-content {
                    margin-top: 16px;
                    transition: opacity .2s ease-in;
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                }
            }

            figure {
                margin: 0;
                padding: 0;
                aspect-ratio: var(--dilemmaOptionFigureAspectRatio);
                display: block;
                cursor: pointer;

                border-radius: var(--dilemmaImageBorderRadius);
                overflow: hidden;

                transition: all .2s ease-in;
                outline: solid var(--dilemmaOptionOutlineWidth) var(--dilemmaOptionOutlineColor);
                outline-offset: var(--dilemmaOptionOutlineOffset);

                img {
                    width: 100%;
                    height: 100%;
                    max-width: unset;
                    max-height: unset;
                    object-fit: cover;
                    display: block;
                }
            }
        }
    }

}


// Make sure the 'next' button is not shown when explanation asked for.
.question-type-dilemma:has(.--explanation) {
    ~ .button-group{
        .utrecht-button::after{
            display: none;
        }
    }
}